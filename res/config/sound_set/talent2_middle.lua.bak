local soundeffectsutil = require "soundeffectsutil"

function data()
return {
	tracks = {
		{ name = "vehicle/talent2/idle_questionmark.wav", refDist = 25.0 },
		{ name = "vehicle/talent2/2-1.wav", refDist = 25.0 },
		{ name = "vehicle/talent2/2-2.wav", refDist = 25.0 },
		{ name = "vehicle/talent2/2-3.wav", refDist = 25.0 },
		{ name = "vehicle/talent2/3-1.wav", refDist = 25.0 },
		{ name = "vehicle/talent2/3-2.wav", refDist = 25.0 },
		{ name = "vehicle/talent2/3-3.wav", refDist = 25.0 },
		{ name = "vehicle/talent2/3-4.wav", refDist = 25.0 },
		{ name = "vehicle/talent2/tractionmotor.wav", refDist = 25.0 },
		{ name = "vehicle/train/wheels_ringing1.wav", refDist = 25.0 },
		{ name = "vehicle/train_diesel/_brakes.wav", refDist = 25.0 }
	},
	events =  {
		clacks = {
			names = {
				"vehicle/clack/modern/part_1.wav",
				"vehicle/clack/modern/part_2.wav",
				"vehicle/clack/modern/part_3.wav",
				"vehicle/clack/modern/part_4.wav",
				"vehicle/clack/modern/part_5.wav",
				"vehicle/clack/modern/part_6.wav",
				"vehicle/clack/modern/part_7.wav",
				"vehicle/clack/modern/part_8.wav",
				"vehicle/clack/modern/part_9.wav",
				"vehicle/clack/modern/part_10.wav"
			},
			refDist = 15.0
		},
		horn = { names = { "vehicle/talent2/oaslhajfdhadsf.wav" }, refDist = 50.0 },
		-- LOLLO added the following
		closeDoors = { names = { "vehicle/C2/Tuerezuansage.wav" }, refDist = 5.0 },
	},

	updateFn = function (input)
		local axleRefWeight = 10.0
		
		return {
			tracks = {
				{ 
					gain = soundeffectsutil.sampleCurve({ { .0, 0.8 }, { 1.0, 0.6 } }, input.speed01),
					pitch = 1.0
				},
				{ 
					gain = soundeffectsutil.sampleCurve({ { .0, 0.0 }, { 0.0375, 0.0 }, { 0.0875, 1.0 }, { 0.1875, 1.0 }, { 0.2, 0.0 } }, input.speed01),
					pitch = soundeffectsutil.sampleCurve({ { .0, 0.4 }, { .0375, 0.4 }, { 0.2, 1.05 } }, input.speed01),
				},
				{ 
					gain = soundeffectsutil.sampleCurve({ { .0, 0.0 }, { 0.1875, 0.0 }, { 0.2, 1.0 }, { 0.3125, 1.0 }, { 0.325, 0.0 } }, input.speed01),
					pitch = soundeffectsutil.sampleCurve({ { .0, 0.84 }, { .1875, 0.84 }, { 0.3125, 1.2 } }, input.speed01),
				},
				{ 
					gain = soundeffectsutil.sampleCurve({ { .0, 0.0 }, { 0.3125, 0.0 }, { 0.325, 1.0 }, { 0.375, 1.0 }, { 0.3875, 0.0 } }, input.speed01),
					pitch = soundeffectsutil.sampleCurve({ { .0, 1.0 }, { .3125, 1.0 }, { 0.375, 1.2 } }, input.speed01),
				},
				{ 
					gain = soundeffectsutil.sampleCurve({ { .0, 0.0 }, { 0.375, 0.0 }, { 0.3875, 1.0 }, { 0.5, 1.0 }, { 0.5125, 0.0 } }, input.speed01),
					pitch = soundeffectsutil.sampleCurve({ { .0, 1.0 }, { .375, 1.0 }, { 0.5, 1.3 } }, input.speed01),
				},
				{ 
					gain = soundeffectsutil.sampleCurve({ { .0, 0.0 }, { 0.5, 0.0 }, { 0.5125, 1.0 }, { 0.6875, 1.0 }, { 0.71875, 0.0 } }, input.speed01),
					pitch = soundeffectsutil.sampleCurve({ { .0, 1.0 }, { .5, 1.0 }, { 0.6875, 1.25 } }, input.speed01),
				},
				{ 
					gain = soundeffectsutil.sampleCurve({ { .0, 0.0 }, { 0.6875, 0.0 }, { 0.71875, 1.2 }, { 0.875, 1.2 }, { 0.90625, 0.0 } }, input.speed01),
					pitch = soundeffectsutil.sampleCurve({ { .0, 1.0 }, { .6875, 1.0 }, { 0.90625, 1.24 } }, input.speed01),
				},
				{ 
					gain = soundeffectsutil.sampleCurve({ { .0, 0.0 }, { 0.875, 0.0 }, { 0.90625, 1.2 }, { 1.0, 1.2 } }, input.speed01),
					pitch = soundeffectsutil.sampleCurve({ { .0, 1.0 }, { .875, 1.0 }, { 1.0, 1.1 } }, input.speed01),
				},
				{ 
					gain = soundeffectsutil.sampleCurve({ { .0, 0.0 }, { .03, 1.2 }, { 0.2, 1.2 }, { .25, .0 }, { 1.0, 0.0 } }, input.speed01),
					pitch = 1.0
				},
				soundeffectsutil.squeal(input.speed, input.sideForce, input.maxSideForce),
				soundeffectsutil.brake(input.speed, input.brakeDecel, 0.5)
			},
			events = {
				clacks = soundeffectsutil.clacks(input.speed, input.weight, input.numAxles, axleRefWeight, input.gameSpeedUp),
				horn = { gain = 1.0, pitch = 1.0 },
				-- LOLLO added the following
				closeDoors = { gain = 1.0, pitch = 1.0 }
			}
		}
	end
}
end
